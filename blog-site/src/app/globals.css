@import "tailwindcss";

/* Tailwind v4: enable class-based dark mode (.dark on <html>) */
@custom-variant dark (&:where(.dark, .dark *));

/* Design Tokens */
@theme {
  /* Brand Palette */
  --color-brand-indigo: #4f46e5; /* indigo-600 */
  --color-brand-purple: #7e22ce; /* purple-700 */
  --color-brand-pink: #db2777; /* pink-600 */
  --color-bg-light: #f8fafc; /* slate-50 */
  --color-bg-dark: #0b1020;
  --color-surface-light: #ffffff;
  --color-surface-dark: #10172a;
  --color-border-light: #e2e8f0; /* slate-200 */
  --color-border-dark: #1e293b; /* slate-800 */
  --color-text-primary-light: #0f172a;
  --color-text-secondary-light: #475569;
  --color-text-primary-dark: #f1f5f9;
  --color-text-secondary-dark: #94a3b8;

  /* Radius Scale */
  --radius-xs: 4px;
  --radius-sm: 6px;
  --radius-md: 10px;
  --radius-lg: 14px;
  --radius-full: 999px;

  /* Elevation Shadows */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.06);
  --shadow-md: 0 4px 12px -2px rgb(0 0 0 / 0.08);
  --shadow-lg: 0 10px 24px -6px rgb(0 0 0 / 0.16);
  --shadow-focus: 0 0 0 3px rgba(79,70,229,0.35);

  /* Transitions */
  --ease-standard: cubic-bezier(.25,.46,.45,.94);
  --dur-fast: 120ms;
  --dur-medium: 260ms;
  --dur-slow: 440ms;
}

/* Inform the browser when dark is active for form controls, scrollbars, etc. */
@media (prefers-color-scheme: dark) {
  :root:not(.light) {
    color-scheme: dark;
  }
}

:root.dark {
  color-scheme: dark;
}

/* Global styles */
html, body { height: 100%; }

body {
  background: var(--color-bg-light);
  color: var(--color-text-primary-light);
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
}

:root.dark body {
  background: var(--color-bg-dark);
  color: var(--color-text-primary-dark);
}

/* Typography tweaks */
.prose p {
  margin-bottom: 1rem;
}

/* Ensure media scales nicely on small screens */
img, video, canvas {
  max-width: 100%;
  height: auto;
}

/* Smooth responsive typography (optional) */
h1 { font-size: clamp(1.75rem, 2vw + 1rem, 2.25rem); }
h2 { font-size: clamp(1.5rem, 1.6vw + 0.9rem, 1.875rem); }
h3 { font-size: clamp(1.25rem, 1.2vw + 0.8rem, 1.5rem); }

/* Focus Styles */
:focus-visible {
  outline: 2px solid var(--color-brand-indigo);
  outline-offset: 3px;
  box-shadow: var(--shadow-focus);
  border-radius: var(--radius-sm);
}

/* Skip Link */
.skip-link {
  position: absolute;
  top: -100px;
  left: 0;
  background: var(--color-brand-indigo);
  color: #fff;
  padding: 0.75rem 1.25rem;
  font-weight: 600;
  border-radius: 0 0 var(--radius-md) var(--radius-md);
  transition: top var(--dur-medium) var(--ease-standard), box-shadow var(--dur-fast);
  z-index: 9999;
}
.skip-link:focus-visible { top: 0; }

/* Utility: balanced measure for long-form text */
.measure { max-width: 65ch; }

/* Subtle fade-in for initial content */
.fade-in { animation: fadeIn var(--dur-medium) var(--ease-standard); }
@keyframes fadeIn { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }

/* Reduce motion respects user settings */
@media (prefers-reduced-motion: reduce) {
  * { animation-duration: 1ms !important; animation-iteration-count: 1 !important; transition-duration: 1ms !important; }
}
